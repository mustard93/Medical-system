<div class="panel pr-panel pr-panel-height mgb">
  <h1 class="pr-font-18 mgb">{{attachmentsExtend.title||"审核资料"}}</h1>
  <div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>序号</th>
          <th>资料名称</th>
          <th>上传人</th>
          <th>上传时间</th>
          <th>有效日期</th>
          <th>附件</th>
          <th>备注</th>
          <th class="text-center">操作</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="item in ngModel"
        ng-controller="deleteUploaderController"
        >
          <td>{{$index + 1}}</td>
          <td>{{item.name}}</td>
          <td>{{item.uploadUserName}}</td>
          <td>{{item.uploadTime | date: 'yyyy-MM-dd HH:mm'}}</td>
          <td>
            <input type="text"
                   datepicker
                   class="ipt pr-short-ipt color-6"
                   placeholder="有效日期至"
                   ng-readonly="true"
                   ng-model="item.guaranteePeriod">
          </td>


          <td>

            <div ng-init='attachmentsItemExtend={"edit":true}' attachments-item-show attachments-item-extend="attachmentsItemExtend" ng-model="item"></div>


          </td>

          <td>
            <textarea class="pr-textarea" name="name" rows="6" cols="20" placeholder="备注信息" ng-model="item.note"></textarea>
          </td>
          <td class="text-center">
            <a ng-if="item.canDeleteFlag" href="javascript:;" class="text-center" ng-click="ngModel.splice($index,1);"><span class="fa fa-trash-o text-l"></span></a>
          </td>
        </tr>
      </tbody>
      <!-- 添加资料 -->
      <tfoot ng-if="attachmentsExtend.addFlag" ng-init="addAttachment={}">
        <tr>
          <td colspan="7">
            <h1 class="pr-font-16">添加附件</h1>
          </td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td><input type="text" name="name" class="ipt" placeholder="资料名称" ng-model="addAttachment.name"></td>
          <td>  {{addAttachment.uploadUserName}}</td>
          <td>{{addAttachment.uploadTime | date : 'yyyy-MM-dd HH:mm'}}</td>
          <td><input type="text" datepicker class="ipt pr-short-ipt color-6" placeholder="有效日期至" ng-readonly="true" ng-model="addAttachment.guaranteePeriod"></td>
          <td>
            <div ng-init='attachmentsItemExtend={"edit":true}' attachments-item-show attachments-item-extend="attachmentsItemExtend" ng-model="addAttachment"></div>
          </td>
          <td>
            <textarea class="pr-textarea" name="name" rows="6" cols="20" placeholder="备注信息" ng-model="addAttachment.note"></textarea>
          </td>
          <td>
            <a ng-click="addAttachment.canDeleteFlag=true;ngModel.push(addAttachment);addAttachment={}" href="javascript:;" class="pr-add-circle"><span class="fa fa-plus-circle"></span></a>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>
