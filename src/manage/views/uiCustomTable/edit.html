<div class="modal-content" ng-controller="editCtrl"
  ng-init="className_getOfEdit=false"
  ajax-url="rest/authen/uiCustomTable/getOfEdit.json?id={{mainStatus.pageParams.id}}&copyId={{mainStatus.pageParams.copyId}}&className={{className}}"
  scope-data="formData"
  callback="initFlag=true;formData.organizationId=formData.organizationId||mainStatus.pageParams.organizationId">
  <form class="add-customerAddress-form form-horizontal"
        action="rest/authen/uiCustomTable/save"
        alert-error
        alert-ok
        parameter-body
        scope-data="formData"
        form-validator>
    <div class="modal-header">
        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
        <h4 class="modal-title">{{formData&&formData.id?"编辑":"添加"}}用户自定义表头</h4>
    </div>


              <button type="button"  class="btn pr-btn-create-glodbg" ng-click="className=formData.className" style="margin: 10px;width: 160px; margin-left: 150px;">根据对象名初始化</button>

              <!--<input type="submit" class="btn pr-btn-create-glodbg" value="提交" style="margin: 10px;">-->

    <div class="modal-body">

      <div class="form-group">
        <label class="col-lg-2 col-sm-2 control-label">机构</label>
        <div class="col-lg-10 col-sm-10">
          <select ng-if="initFlag"  class="select select-w"
                  data-placeholder="选择机构"
                  chosen
                  ng-model="formData.organizationId"
                  default-empty="全局"
                  alert-error
                  select-source="rest/index/distributor/queryForSelectOption.json">
          </select>
        </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label text-left">缺省标志位</label>
          <div class="col-lg-10 col-sm-10">
            <select ng-if="initFlag" class="ipt pr-short-ipt" data-placeholder=""  ng-model="formData.defaultFlag" chosen
                    select-source="rest/index/queryBasicdataForSelectOption.json?basicDataType=Basic_BooleanType">
            </select>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">获取某一类型的模版唯一标识(custom-key)</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.key"/>
          </div>

      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">java对象名</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.className"/>
          </div>

      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表名(custom-table)</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.name"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">描述</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.desc"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">样式名</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.css"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">样式</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.style"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表头样式名</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.theadCss"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表头样式</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.theadStyle"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表内容样式名</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.tbodyCss"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表内容样式</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.tbodyStyle"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表尾样式名</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.tfootCss"/>
          </div>
      </div>

      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">表尾样式</label>
          <div class="col-lg-10 col-sm-10">
              <input type="text" class="form-control" placeholder="" ng-model="formData.tfootStyle"/>
          </div>
      </div>


      <div class="form-group" ng-init="filter.showFlag=true">
        <div class="col-lg-2 col-sm-2 control-label">
          <label><input type="radio" ng-value="true" ng-model="filter.showFlag" ng-checked="true"> 显示所有字段</label>
          <label><input type="radio" ng-value="false"  ng-model="filter.showFlag">隐藏不不显示字段</label>
        </div>
      </div>

      <button   ng-click="formData.items.push({showFlag:true})"  type="button"
        class="btn btn-default" > 添加列  </button>
      <input type="submit" class="btn pr-btn-create-glodbg" value="提交" style="float:right;">
      <table class="table table-hover table-striped">
          <thead>
              <tr>
                  <th><input type="checkbox" class="selectAll"></th>
                  <th>序号</th>
                  <!-- <th>排序</th> -->
                  <th>是否显示</th>
                  <th>属性名</th>
                  <th>属性类型</th>
                  <th>属性显示名</th>
                  <th>显示格式转换</th>
                  <th>显示格式转换</th>
                  <th>标题样式名</th>
                  <th>标题样式</th>
                  <th>内容样式名</th>
                  <th>内容样式</th>

                  <th>操作</th>
                  <th></th>
              </tr>
          </thead>
          <tbody>
              <tr ng-repeat="tr in formData.items" ng-click="selectThis()"  ng-class='{"active":tr.showFlag}' ng-show="filter.showFlag||tr.showFlag">

                  <td class="select-td"><input type="checkbox" class="selectOne" value="{{tr.id}}"></td>
                  <td>{{$index + 1}}</td>

                  <!-- <td>{{tr.index}}</td> -->
                  <td>{{tr.showFlag}}</td>
                  <td>{{tr.propertyKey}}</td>
                  <td>{{tr.propertyType}}</td>
                  <td>{{tr.propertyName}}</td>
                  <td>{{tr.filterName}}</td>
                  <td>{{tr.format}}</td>
                  <td>{{tr.thCss}}</td>
                  <td>{{tr.thStyle}}</td>
                  <td>{{tr.tdCss}}</td>
                  <td>{{tr.tdStyle}}</td>

                  <td>
                      <button type="button" class="btn btn-primary" modal-right="700" modal-scope="this" modal-url="views/uiCustomTable/uiCustomTableHeaderVO/edit.html">
                          <i class="fa fa-edit"></i>
                          编辑
                      </button>


                      <button ng-if="$index>0"   ng-click="$root.utils.switchArrayOrder(formData.items,$index,$index-1)"  type="button"
                        class="btn btn-default" > 上移  </button>
                      <button  ng-if="$index+1<formData.items.length"
                       ng-click="$root.utils.switchArrayOrder(formData.items,$index,$index+1)" type="button" class="btn btn-default" > 下移  </button>

                       <button ng-if="$index>0"   ng-click="$root.utils.switchArrayOrder(formData.items,$index,0)"  type="button"
                         class="btn btn-default" > 顶部  </button>

                       <button ng-if="$index<formData.items.length-1"   ng-click="$root.utils.switchArrayOrder(formData.items,$index,formData.items.length-1)"  type="button"
                         class="btn btn-default" > 底部  </button>

                  </td>

              </tr>
          </tbody>
      </table>

      <p>propertyKey=="$index"  表示 显示序号</p>
      <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label"></label>
          <div class="col-lg-10 col-sm-10">
              <input type="submit" class="btn pr-btn-create-glodbg" value="提交">
          </div>
      </div>
    </div>
  </form>
</div>
