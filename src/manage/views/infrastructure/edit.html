<div class="modal-content" ng-controller="infrastructureController"
     ajax-url="rest/authen/infrastructure/getOfEdit.json?id={{tr.id}}"
     scope-data="formData"
     callback="initFlag=true;formData.organizationId=formData.organizationId||dialogData.organizationId"
     alert-error>
  <form class="add-manageWarehouse-form form-horizontal"
        action="rest/authen/infrastructure/save"
        alert-error
        alert-ok
        parameter-body
        form-validator>
      <div class="modal-header">
          <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
          <h4 class="modal-title">{{formData&& formData.id?"编辑":"添加"}}Wms实例管理编辑</h4>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">所属机构</label>
          <div class="col-lg-10 col-sm-10">
            <select ng-if="initFlag"  class="ipt pr-short-ipt" data-placeholder="选择机构" chosen default-empty="无" ng-model="formData.organizationId" select-source="rest/index/distributor/queryForSelectOption">

            </select>
          </div>
        </div>

        <div class="form-group">
              <label class="col-lg-2 col-sm-2 control-label">名称</label>
              <div class="col-lg-10 col-sm-10">
                  <input type="text" class="form-control" placeholder="" ng-model="formData.name"/>
              </div>
          </div>

          <div class="form-group">
            <label class="col-lg-2 col-sm-2 control-label">wms系统类型</label>
            <div class="col-lg-10 col-sm-10">
              <select ng-if="initFlag"  class="ipt pr-short-ipt" data-placeholder="选择wms系统类型" chosen default-empty="无" ng-model="formData.wmsType" select-source="rest/index/queryBasicdataForSelectOption?basicDataType=Basic_WmsSystemEnum">

              </select>
            </div>
          </div>

          <div class="form-group" ng-init="formData.warehouseTypeMapping={}">
            <label class="col-lg-2 col-sm-2 control-label">库类型</label>
            <div class="col-lg-10 col-sm-10">
              <select ng-if="initFlag"
                      class="ipt pr-short-ipt"
                      data-placeholder="选择wms系统类型"
                      chosen
                      default-empty="无"
                      ng-model="formData.warehouseTypeMappingKey"
                      select-source="rest/index/queryBasicdataForSelectOption?basicDataType=Warehouse_WarehouseType"
                      ng-change="buildMapping(formData.warehouseTypeMapping,formData.warehouseTypeMappingKey,formData.warehouseTypeMappingValue)" />
              </select>
              <input ng-if="formData.warehouseTypeMapping" type="text" ng-model="formData.warehouseTypeMappingValue"  />
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-2 col-sm-2 control-label">批号要求</label>
            <div class="col-lg-10 col-sm-10">
              <select ng-if="initFlag"  class="ipt pr-short-ipt" data-placeholder="选择wms系统类型" chosen default-empty="无" ng-model="formData.wmsType" select-source="rest/index/queryBasicdataForSelectOption?basicDataType=Basic_WmsSystemEnum">

              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-2 col-sm-2 control-label">扩展属性</label>
            <div class="col-lg-10 col-sm-10">
              <select ng-if="initFlag"  class="ipt pr-short-ipt" data-placeholder="选择wms系统类型" chosen default-empty="无" ng-model="formData.wmsType" select-source="rest/index/queryBasicdataForSelectOption?basicDataType=Basic_WmsSystemEnum">

              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-2 col-sm-2 control-label">出入库明细类型</label>
            <div class="col-lg-10 col-sm-10">
              <select ng-if="initFlag"  class="ipt pr-short-ipt" data-placeholder="选择wms系统类型" chosen default-empty="无" ng-model="formData.wmsType" select-source="rest/index/queryBasicdataForSelectOption?basicDataType=Basic_WmsSystemEnum">

              </select>
            </div>
          </div>

      </div>
      <textarea-json ng-model="formData"></textarea-json>

          <div class="form-group">
              <label class="col-lg-2 col-sm-2 control-label"></label>
              <div class="col-lg-10 col-sm-10">
                  <input type="submit" class="btn pr-btn-create-glodbg" value="保存">
              </div>
          </div>

      </div>
  </form>
</div>
