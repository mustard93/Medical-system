
<div class="panel pr-panel pr-fuzzy-boundary pr-panel-height mgb" style="margin-right: 40px;"
    ng-init="timestamp=10000;"
    ajax-url="rest/authen/announcement/queryOfPublish?timestamp={{timestamp}}"
    scope-data="msgList">
    <header class="text-n color-3 text-bold" ng-init="showMore=false;">
      通知公告

      <center style="margin-top: -20px; height: 20px;overflow:hidden;" >
        <div class="" auto-scroll-up>
          <p ng-if="msgList.length && !showMore" ng-repeat="tr in msgList "  class="color-orange" style="font-weight: normal; font-size: 12px;" >
            <em >
                <a tab-nav tab-name="通知公告" tab-href="#/announcement/get.html?id={{tr.id}}">{{tr.title}}</a>
            </em>
            <em ng-if="tr.isNew" class="color-red">NEW</em>
          </p>
        </div>
      </center>
        <span class="tools pull-right" style="margin-top: -25px;">
            <a ng-click="showMore=!showMore;" href="javascript:;" class="fa fa-chevron-down" toggle-panel=""></a>
        </span>


        <span  ng-show="showMore" class="tools pull-right" style="margin-top: -25px;">
            <a ng-click="timestamp=timestamp+1" class="fa fa-refresh"></a>
        </span>

        <span ng-if="showMore" class="tools pull-right" style="margin-top: -25px;">
            <a tab-nav tab-name="通知公告" tab-href="#/announcement/queryRead.html" class="fa color-orange">更多...</a>
        </span>
    </header>
    <div class="panel-body" style="padding: 15px 0px 0px; display: none;"
    >
        <!--msgList::{{msgList}}-->

        <ul class="index-msg-list" style="height: 280px; overflow-y: scroll;">
            <li ng-repeat="item in msgList track by $index">

                <div class="flex-column">
                        <span class="flex-item-9 text-left" style="overflow: hidden;">

                            <div class="text-ellips-s  color-orange">
                                <a tab-nav tab-name="通知公告" tab-href="#/announcement/get.html?id={{item.id}}" class="color-orange" style="color: #333333;">{{item.title}}</a>
                                <em ng-if="item.isNew" class="color-red">NEW</em>
                            </div>

                        </span>
                        <span class="flex-item-2 text-center">{{item.publishAt | date :'yyyy-MM-dd HH:mm:ss'}}</span>
                        <span class="flex-item-1 text-left">{{item.salesDepartmentName}}</span>
                </div>

            </li>

        </ul>
    </div>
</div>
