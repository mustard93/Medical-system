<div class="sale-return-order right-side pr-bg-black3 relative arrivalNotaice-order-dialog"
     ng-controller="arrivalBarcodePrintDialogController"
     ng-init="scopeData={num:1}">
  <div class="sale-bg">
      <div class="pd-c-l pdt pdb pr-font-14 color-light-brown sale-boder-btm pr-bg-black2">条码打印预览</div>
      <div class="pr-panel-height select-bg">
        <!-- 打印份数 -->
        <div class="bb-line-gold pd-c-l pdt pdb">
          <span class="color-white">每个包装打印</span>
          <span>
            <input type="number"
                   class="ipt pr-short-ipt pr-bg-black6 color-white pr-cos-w-50"
                   ng-model="scopeData.num"
                   onKeypress="return(/[\d]/.test(String.fromCharCode(event.keyCode)))">
          </span>
          <span class="color-white">份</span>
        </div>
        <!-- 所有药品的条码列表 -->
        <div class="scroll-out-div">
          <div class="pr-bg-black1 mgb-xl pdb-l" ng-repeat="mItem in medicalDataList.orderMedicalNos track by $index">
            <!-- 药品信息 -->
            <div class="bb-dashed-gold pd-c-l">
              <div class="flex-column pd-v-l">
                <div class="flex-item-6">
                  <span>商品通用名：</span><span class="color-white">{{mItem.name}}</span>
                </div>
                <div class="flex-item-6 text-right">
                  <span>商品编号：</span><span class="color-white">{{mItem.code}}</span>
                </div>
              </div>
              <div class="flex-column pdb-l">
                <div class="flex-item-6">
                  <span>数量：</span>
                  <span class="color-white">
                    <span>{{mItem.quantity}}{{mItem.unit}} = </span>
                    <!-- <span ng-repeat="uItem in mItem.converResults track by $index">{{uItem.unitQuantity}}{{uItem.unit}}<em ng-if="($index+1)!==mItem.converResults.length"> + </em></span> -->
                    <span>{{mItem.converStr}}</span>
                  </span>
                </div>
                <div class="flex-item-6 text-right">
                  <span>批号：</span><span class="color-white">{{mItem.productionBatch}}</span>
                </div>
              </div>
            </div>
            <!-- 药品条码列表 -->
            <div class="pd-c-l" ng-repeat="uItem in mItem.converResults track by $index">
              <!-- 条码图形显示 -->
              <div class="mgt-l mgb-l barcode-show"><img ng-src="{{uItem.barcode}}"></div>
              <!-- 此商品单位条码信息 -->
              <div class="flex-column">
                <div class="flex-item-6">
                  <span class="mgr-xl">
                    <input type="number"
                           class="ipt pr-short-ipt pr-bg-black6 color-white pr-cos-w-80 text-right"
                           ng-model="uItem.unitQuantity"
                           onKeypress="return(/[\d]/.test(String.fromCharCode(event.keyCode)))">
                    <em class="color-white"> {{uItem.unit}}</em>
                  </span>
                  <span class="color-9" ng-if="($index+1)!==converResults.length">说明：1{{uItem.unit}} = {{uItem.ratio}}{{uItem.baseUnit}}</span>
                </div>
                <div class="flex-item-6 text-right line-alignment">打印：{{uItem.unitQuantity}}*{{scopeData.num}} = {{uItem.unitQuantity*scopeData.num}}份</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center print-btn pr-bg-black1">
        <button type="button"
                class="pr-btn-save-glodbg mgr-l"
                ng-disabled="!scopeData.num">打印预览
        </button>
        <button type="button"
                class="pr-btn-save-glodbg"
                ng-disabled="!scopeData.num">打印
        </button>
      </div>
  </div>
</div>
