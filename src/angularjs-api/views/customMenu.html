<div class="page-main-content text-n">
  <div class="page-heading">
      <h3>主面板</h3>
      <ul class="breadcrumb">
        <li><a href="#">主面板</a></li>
        <li class="active">首页</li>
      </ul>
  </div>
  <h1 class="pd-c-l pdt-m pdb-m">自定义菜单指令</h1>
  <div class="pd-c-l">
      <ul>
        <li>
          <div class="panel">
            <div class="panel-heading" ng-init='tr.didateFilter=[{"type":"通过"},"buttonName":"buttonName"]'>
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              查询页面，快速审查：指定显示菜单
              <!--工作流控制菜单 -->
                <button ng-if="$root.utils.getcustomMenuByKeyOfArr(tr.didateFilter,'通过')" workflow-pass-button custom-menu="{{$root.utils.getcustomMenuByKeyOfArr(tr.didateFilter,'通过')}}" ></button>


            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                                r异步请求，保存：
                                <button class="pr-btn-save-glodbg"
                                        type="button"
                                        ajax-url-submit="rest/authen/arrivalNoticeOrder/updateNote"
                                        params="formData"
                                        alert-error
                                        callback="showData.note=formData.note"
                                        ng-disabled="!formData.id||formData.note==showData.note">异步请求，保存
                                </button>
              </textarea>
            </div>
          </div>
        </li>
        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              <button class="btn btn-primary pr-btn-xsm pr-btn-bg-gold mgr"
                      type="button"
                      handle-this-click
                      dialog-title="确认通过?"
                      dialog-content="审批通过后，销售单将生效。确认通过?"
                      dialog-template="pr-dialog-submit.html"
                      request-url="rest/authen/confirmOrder/updateStatus.json?id={{tr.id}}&status=待发单"
                      call-back="listParams.refreshId=tr.id">审批通过
              </button>

              <button
                      class="btn btn-primary pr-btn-xsm pr-btn-bg-gold mgr mgl"
                      handle-this-click
                      dialog-title="确认通过?"
                      dialog-content="审核通过后,采购单将生效,是否通过?"
                      dialog-template="pr-dialog-submit.html"
                      emitted="reloadList"
                      params='{"id":tr.id,"status":"待采购"}'
                      request-url="rest/authen/purchaseOrder/updateStatus.json">立即审批
              </button>

            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                                request-url 在IE中不能待中文。建议用：
                              <button
                                      class="btn btn-primary pr-btn-xsm pr-btn-bg-gold mgr mgl"
                                      handle-this-click
                                      dialog-title="确认通过?"
                                      dialog-content="审核通过后,采购单将生效,是否通过?"
                                      dialog-template="pr-dialog-submit.html"
                                      emitted="reloadList"
                                      params='{"id":tr.id,"status":"待采购"}'
                                      request-url="rest/authen/purchaseOrder/updateStatus.json">立即审批
                              </button>
                              不推荐：
                              <button class="btn btn-primary pr-btn-xsm pr-btn-bg-gold mgr"
                                      type="button"
                                      handle-this-click
                                      dialog-title="确认通过?"
                                      dialog-content="审批通过后，销售单将生效。确认通过?"
                                      dialog-template="pr-dialog-submit.html"
                                      request-url="rest/authen/confirmOrder/updateStatus.json?id={{tr.id}}&status=待发单"
                                      call-back="listParams.refreshId=tr.id">审批通过
                              </button>
              </textarea>
            </div>
          </div>
        </li>
        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              <button class="pr-add-item-whitebg"
                      modal-right="600"
                      modal-data='{"invoicesOrderId":"{{showData.id}}","formData":{},"addFlag":true}'
                      modal-scope="this"
                      modal-url="views/invoicesOrder/kuaidi/edit.html">添加...
              </button>
            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                <button class="pr-add-item-whitebg"
                        modal-right="600"
                        modal-data='{"invoicesOrderId":"{{showData.id}}","formData":{},"addFlag":true}'
                        modal-scope="this"
                        modal-url="views/invoicesOrder/kuaidi/edit.html">添加...
                </button>
              </textarea>
            </div>
          </div>
        </li>





        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel> 弹出框，并传值</a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              <span
                    class="mgr-l"
                    ng-init="rejectObj={url:'rest/authen/confirmOrder/updateStatus.json',typeCode:'订单驳回理由',msg:'驳回后，该销售单将作废。确认驳回?',formData:{id:mainStatus.pageParams.id,status:'已作废',key:'缺货'},goUrl:'#/confirmOrder/get.html?t=1&id='+mainStatus.pageParams.id}">
                <a href="javascript:;"
                   modal-center
                   modal-scope="this"
                   modal-url="views/public/dialog-check-reject.html"

                   >驳回</a>
              </span>
            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                <span ng-if="showData.orderStatus=='待审批' && $root.hasAuthor('订单审核')"
                      class="mgr-l"
                      ng-init="rejectObj={url:'rest/authen/confirmOrder/updateStatus.json',typeCode:'订单驳回理由',msg:'驳回后，该销售单将作废。确认驳回?',formData:{id:mainStatus.pageParams.id,status:'已作废',key:'缺货'},goUrl:'#/confirmOrder/get.html?t=1&id='+mainStatus.pageParams.id}">
                  <a href="javascript:;"
                     modal-center
                     modal-scope="this"
                     modal-url="views/public/dialog-check-reject.html">驳回</a>
                </span>
              </textarea>
            </div>
          </div>
        </li>

        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              <select class="ipt pr-short-ipt" data-placeholder="选择规格" chosen default-empty="无" ng-model="formData.specification" select-source="rest/baseData/queryForSelectOptionByType?type=规格">
                改成
                <select class="ipt pr-short-ipt" data-placeholder="选择规格" chosen default-empty="无" ng-model="formData.specification" select-source="rest/baseData/queryForSelectOptionByType"  params='{"type":"规格"}'>

            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                <select class="ipt pr-short-ipt" data-placeholder="选择规格" chosen default-empty="无" ng-model="formData.specification" select-source="rest/baseData/queryForSelectOptionByType?type=规格">
                  改成
                  <select class="ipt pr-short-ipt" data-placeholder="选择规格" chosen default-empty="无" ng-model="formData.specification" select-source="rest/baseData/queryForSelectOptionByType"  params='{"type":"规格"}'>


                    满足条件执行用ajax-if-eval="formData.organizationId"
                    <select class="select select-w"
                            data-placeholder="选择一个..."
                            chosen
                            ng-model="formData.departmentId"
                            ajax-if-eval="formData.organizationId"
                            default-empty
                            alert-error
                            params='{"DistributorId":"{{formData.organizationId}}"}'
                            select-source="rest/index/department/queryForSelectOption.json">

              </textarea>
            </div>
          </div>
        </li>
        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              表单验证提示
              <form name="editForm" novalidate autocomplete="off">
              <input type="text" class="form-control pd-n" placeholder="手机号码"
                    name="phone" ng-model="formData.phone" required autofocus
                    ng-pattern="/^1(3|4|5|7|8)\d{9}$/"
                       data-content="请输入11位手机号码"
                         invalid-popover="{{editForm.phone.$invalid}}">

                       </form>
            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                <form name="editForm" novalidate autocomplete="off">
                <input type="text" class="form-control pd-n" placeholder="手机号码"
                      name="phone" ng-model="formData.phone" required autofocus
                      ng-pattern="/^1(3|4|5|7|8)\d{9}$/"
                         data-content="请输入11位手机号码"
                           invalid-popover="{{editForm.phone.$invalid}}">

                         </form>

              </textarea>
            </div>
          </div>
        </li>


        <li>
          <div class="panel">
            <div class="panel-heading">
              <span class="tools pull-right">
                <a href="javascript:;" class="fa fa-chevron-up" toggle-panel></a>
                <a href="javascript:;" class="fa fa-times"></a>
              </span>
              日期控件 datepicker：
              <input type="text" class="ipt pr-short-ipt color-6" placeholder="期望到货时间"
              readonly="true" datepicker   ng-model="formData.expectDate">


            </div>
            <div class="panel-body" style="display:none;">
              <textarea class="form-control" style="min-height:200px;" readonly="true">
                                日期控件
                                <input type="text" class="ipt pr-short-ipt color-6" placeholder="期望到货时间"
                                readonly="true"
                                datepicker   ng-model="formData.expectDate">
              </textarea>
            </div>
          </div>
        </li>
      </ul>
    </div>
</div>
